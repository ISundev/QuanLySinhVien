drop database  QLDA

CREATE DATABASE QLDA
GO
USE QLDA
GO
--tạo bảng tài khoản
CREATE TABLE USERS(
	USERNAME varchar(50) PRIMARY KEY NOT NULL,
	PASSWORD varchar(50) NULL,
	ROLE nvarchar(50) NULL,
)
CREATE TABLE TTGV(
	MAGV VARCHAR(20) PRIMARY KEY NOT NULL,
	TENGV NVARCHAR(50),
	EMAIL VARCHAR(50),
	SODT VARCHAR(50),
	GIOITINH NVARCHAR(10),
	DIACHI NVARCHAR(50),
	ANH VARCHAR(50),
	USERNAME varchar(50) FOREIGN KEY REFERENCES USERS(USERNAME)
)
CREATE TABLE SINHVIEN(
	MASV VARCHAR(20) PRIMARY KEY NOT NULL,
	TENSV NVARCHAR(50),
	EMAIL VARCHAR(30),
	SODT NVARCHAR(20),
	GIOITINH NVARCHAR(10),
	DIACHI NVARCHAR(50),
	ANH VARCHAR(50),
	USERNAME varchar(50) FOREIGN KEY REFERENCES USERS(USERNAME)

)
CREATE TABLE BANGDIEM(
	ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY,
	MASV VARCHAR(20) FOREIGN KEY REFERENCES SINHVIEN(MASV),
	TENSV NVARCHAR(50),
	JAVA3 float,
	CSDL float,
	DUAN1 float,
	TIENGANH FLOAT,
	USERNAME varchar(50) FOREIGN KEY REFERENCES USERS(USERNAME)
)
--thêm tài khoản
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'admin', N'1', N'Giáo viên')	
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'admin1', N'1', N'Giáo viên')
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'admin3', N'1', N'Giáo viên')
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'VĂN A', N'1', N'Sinh viên')
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'dat', N'1', N'Sinh viên')
INSERT USERS (USERNAME, PASSWORD, ROLE) VALUES (N'anh', N'1', N'Sinh viên')
select * from USERS
--thông tin giảng viên
INSERT TTGV (MAGV,TENGV,EMAIL,SODT,GIOITINH,DIACHI,USERNAME) VALUES('GV002',N'Nguyễn Trí Sơn','sonnt@gmail.com','0846261801',N'NAM',N'Hà Nội',N'admin3')
INSERT TTGV (MAGV,TENGV,EMAIL,SODT,GIOITINH,DIACHI,USERNAME) VALUES('GV001',N'Nguyễn Văn Tuấn','tuan@gmail.com','012548954',N'Nữ',N'HÀ NỘI',N'admin1')
--thông tin sinh viên
INSERT SINHVIEN(MASV,TENSV,EMAIL,SODT,GIOITINH,DIACHI,USERNAME) VALUES('SV001',N'Văn A','a@gmail.com','0972911601',N'Nữ',N'HÀ NỘI',N'VĂN A')
INSERT SINHVIEN(MASV,TENSV,EMAIL,SODT,GIOITINH,DIACHI,USERNAME) VALUES('SV002',N'Nguyễn Đạt','dat@gmail.com','012359871',N'Nam',N'HỒ CHÍ MINH',N'dat')
INSERT SINHVIEN(MASV,TENSV,EMAIL,SODT,GIOITINH,DIACHI,USERNAME) VALUES('SV003',N'Trần Anh','anh@gmail.com','0972911601',N'Nam',N'NHA TRANG',N'anh')

--xóa sinh viên
delete SINHVIEN where MASV='SV003'
delete BANGDIEM where TENSV=''
DROP TABLE BANGDIEM
--THÔNG TIN BẢNG ĐIỂM
INSERT BANGDIEM(MASV,TENSV,JAVA3,CSDL,DUAN1,TIENGANH,USERNAME) VALUES('SV001',N'Văn A',9,9,9,9,N'VĂN A')
INSERT BANGDIEM(MASV,TENSV,JAVA3,CSDL,DUAN1,TIENGANH,USERNAME) VALUES('SV002',N'Nguyễn Đạt',9,5,9,7,N'dat')
INSERT BANGDIEM(MASV,TENSV,JAVA3,CSDL,DUAN1,TIENGANH,USERNAME) VALUES('SV003',N'Trần Anh',9,9,9,9,N'anh')
INSERT BANGDIEM(MASV,TENSV,JAVA3,CSDL,DUAN1,TIENGANH,USERNAME) VALUES('SV004',N'SV2',9,5,9,7,N'dat')
select * from TTGV join USERS on TTGV.USERNAME = USERS.USERNAME where TTGV.USERNAME like 'admin3'
select * from TTGV
select * from USERS
select * from SINHVIEN
select * from BANGDIEM
SELECT MASV,TENSV,JAVA3,CSDL,DUAN1,TIENGANH FROM BANGDIEM WHERE USERNAME='dat'

INSERT SINHVIEN(MASV,TENSV,EMAIL,SODT,GIOITINH,DIACHI,ANH,USERNAME)